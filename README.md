marathon
=========

# 说明
**marathon**是用**Go**编写的一个**HTTP的RPC调用框架**，提供了**HttpClient**，通过**配置**的方式，
可以让**HttpClient**带上**服务发现**，**软负载均衡**，**健康检查**，**故障自动摘除**，**限流**，**监控统计上报**等功能。
    
目前流行的微服务架构中，经常会有很多HTTP请求调用。看似简单的HTTP的调用，其实也有很多技术的细节需要考虑，
例如:

1）如何获取请求服务的IP和Port？
    
2）当获取到一堆IP和Port的时候，如何选取哪台机器访问？

3）如何确认被访问的机器都是健康可用的？
 
4）当被访问的机器出现故障时，如何从可选机器列表中摘除，当机器恢复时，又添加到可选机器列表中？

5）如何保证当自身流量突增的时候，不会把被请求的服务打挂？如何保护好被调用的服务？

6）请求时，需要埋点上报请求服务的状况，方便监控、报警及接口优化。

7）每个接口的SLA都不一样，如何通过配置的方式，对每个接口问做一些差异化的访问（重试次数、超时时间等）？

等等。
    
因此，需要一个统一的框架来来解决这些共性的问题。这就是我创立marathon项目的初衷。
    
项目名字**marathon**，即中文的“**马拉松**”。之所以将项目名字取名为**marathon**，是两方面的考量：
第一，本人非常喜欢跑步，marathon是距离最长的跑步赛事，也是奥运会最后的比赛项目；
第二，本项目都是我个人独自利用自己的业余时间设计和编写，前前后后经历4个多月时间，这个项目的开发对我来说也是一项marathon式的长跑。
    
# 特点

1. 服务发现。

    marathon框架没有真正实现服务发现的逻辑，只是提供抽象的interface方便和服务发现配合使用。
用户只需要将服务发现的逻辑实现在server.List的GetInitialListOfServers和GetUpdatedListOfServers
这两个方法中，marathon的HttpClient就具有服务发现的功能。

---
2. 软负载均衡。

---

3. 健康检查。

---

4. 故障自动摘除。

---

5. 限流。

---

6. 监控统计上报。

---
 
7. 配置。 

---

8. HTTPClient。

---

# 使用

# 联系
QQ: 525999199@qq.com